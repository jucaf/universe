{
    "id": "/atlas-keedio",
    "container": {
        "type": "DOCKER",
        "docker": {
            "image": "keedio/atlas:release-0.0.1",
            "privileged": true,
            "forcePullImage": false,
            "parameters": [],
            "network": "BRIDGE",
            "portMappings": [
                {
                    "containerPort": 21000,
                    "hostPort": 0,
                    "servicePort": {{atlas.port}},
                    "protocol": "tcp"
                }
            ]
        }
    },
    "env": {
        "ATLAS_PORT": "{{atlas.port}}",
        "ATLAS_HA_ENABLED": "false",
        "ATLAS_INSTANCES": "1",
        "ATLAS_HA_ZKROOT": "/apache_atlas",
        "ZOOKEEPER_HOSTS": "master.mesos:2181",
        "KAFKA_BROKER_LIST": "{{atlas.kafka-brokers}}",
        "KAFKA_TOPIC_REPLICATION": "{{atlas.kafka-topic-replication}}",
        "INDEX_BACKEND": "elasticsearch",
        "INDEX_BACKEND_HOSTNAME": "{{atlas.elastic-hostname}}",
        "INDEX_BACKEND_PORT": "{{atlas.elastic-port}}",
        "STORAGE_BACKEND": "cassandra",
        "STORAGE_BACKEND_HOSTNAME": "{{atlas.cassandra-hostname}}",
        "CASSANDRA_NAMESPACE": "cassandra",
        "CASSANDRA_REPLICATION_FACTOR": "{{atlas.cassandra-replication}}",
        "DISABLED_AUDIT": "false",
        "AUTH_KERBEROS": "false",
        "AUTH_FILE": "true",
        "USER_CRED_FILE": "/atlas/conf/users-credentials.properties",
        "AUTH_LDAP": "false",
        "KERBEROS_PRINCIPAL_FQDN": "",
        "KERBEROS_KEYTAB": "",
        "LDAP_TYPE": "ad",
        "LDAP_SERVER": "",
        "LDAP_PORT": "389",
        "BASEDN": "dc=example,dc=com",
        "USERDN": "uid={0},ou=People",
        "GROUP_SEARCH": "(member=uid={0},ou=Users,dc=example,dc=com)",
        "GROUP_ROLE_ATT": "cn",
        "BIND_USER": "cn=Manager,dc=example,dc=com",
        "SEARCH_FILTER": "(uid={0})|(sAMAccountName={0})",
        "DEFAULT_ROLE": "viewer",
        "DOMAIN": "example.com"
    },
    "cmd": "./atlas/bin/start.sh",
    "cpus": {{atlas.cpus}},
    "disk": {{atlas.disk}},
    "mem": {{atlas.mem}},
    "instances": 1,
    "upgradeStrategy": {
        "maximumOverCapacity": 1,
        "minimumHealthCapacity": 1
    },
    "healthChecks": [
    ],
    "labels": {
        "DCOS_SERVICE_NAME": "atlas-keedio",
        "DCOS_SERVICE_PORT_INDEX": "0",
        "DCOS_SERVICE_SCHEME": "http",
        "HAPROXY_GROUP": "external",
        "DCOS_PACKAGE_IS_FRAMEWORK": "false"
    }
}
