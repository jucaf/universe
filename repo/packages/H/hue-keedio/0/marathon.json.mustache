{
    "id": "/hue-keedio",
    "container": {
        "type": "MESOS",
        "docker": {
            "image": "gethue/hue:20191112-135001",
            "privileged": true,
            "forcePullImage": false,
            "parameters": [],
        }
    },
    "cmd": "apt-get install -y wget && wget http://api.hdfs.marathon.l4lb.thisdcos.directory/v1/endpoints/core-site.xml && wget http://api.hdfs.marathon.l4lb.thisdcos.directory/v1/endpoints/hdfs-site.xml && mv core-site.xml $MESOS_SANDBOX/hadoop-3.2.1/etc/hadoop/core-site.xml && mv hdfs-site.xml $MESOS_SANDBOX/hadoop-3.2.1/etc/hadoop/hdfs-site.xml && mv $MESOS_SANDBOX/hadoop-3.2.1 /usr/share/hue/hadoop-3.2.1 && cp -f $MESOS_SANDBOX/hue.ini /usr/share/hue/desktop/conf/hue.ini && ./usr/share/hue/hadoop-3.2.1/bin/hdfs --daemon start httpfs && ./startup.sh",
    "cpus": 1,
    "disk": 10000,
    "mem": 4096,
    "instances": 1,
    "maxLaunchDelaySeconds": 300,
    "portDefinitions": [],
    "requirePorts": false,
    "upgradeStrategy": {
        "maximumOverCapacity": 1,
        "minimumHealthCapacity": 1
    },
    "killSelection": "YOUNGEST_FIRST",
    "unreachableStrategy": {
        "inactiveAfterSeconds": 0,
        "expungeAfterSeconds": 0
    },
    "networks": [
        {
            "mode": "host"
        }
    ],
    "healthChecks": [
        {
            "protocol": "HTTP",
            "portIndex": 0,
            "path": "/",
            "gracePeriodSeconds": 600,
            "intervalSeconds": 20,
            "maxConsecutiveFailures": 3
        }
    ],
    "uris": [
        "{{resource.assets.uris.hadoop}}",
        "{{resource.assets.uris.hue-ini}}",
        "{{resource.assets.uris.httpfs-site-xml}}"
    ]

}
